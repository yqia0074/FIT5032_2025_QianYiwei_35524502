var Qe=Object.defineProperty,Ye=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var he=(e,t,r)=>t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))fe.call(t,r)&&he(e,r,t[r]);if(F)for(var r of F(t))ye.call(t,r)&&he(e,r,t[r]);return e},_=(e,t)=>Ye(e,et(t));var b=(e,t)=>{var r={};for(var s in e)fe.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&F)for(var s of F(e))t.indexOf(s)<0&&ye.call(e,s)&&(r[s]=e[s]);return r};import{deepMerge as tt}from"@primeuix/utils/object";function Se(...e){return tt(...e)}import{deepMerge as _t}from"@primeuix/utils/object";import{EventBus as rt}from"@primeuix/utils/eventbus";var st=rt(),R=st;import{getKeyValue as nt,isArray as ot,isNotEmpty as at,isNumber as se,isObject as xe,isString as C,matchRegex as J,toKebabCase as it}from"@primeuix/utils/object";var v=/{([^}]*)}/g,lt=/(\d+\s+[\+\-\*\/]\s+\d+)/g,ct=/var\([^)]+\)/g;function Vt(e){return C(e)?e.replace(/[A-Z]/g,(t,r)=>r===0?t:"."+t.toLowerCase()).toLowerCase():e}function Et(e,t){ot(e)?e.push(...t||[]):xe(e)&&Object.assign(e,t)}function ke(e){return xe(e)&&e.hasOwnProperty("$value")&&e.hasOwnProperty("$type")?e.$value:e}function Lt(e,t=""){return["opacity","z-index","line-height","font-weight","flex","flex-grow","flex-shrink","order"].some(s=>t.endsWith(s))?e:`${e}`.trim().split(" ").map(a=>se(a)?`${a}px`:a).join(" ")}function mt(e){return e.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Q(e="",t=""){return mt(`${C(e,!1)&&C(t,!1)?`${e}-`:e}${t}`)}function ne(e="",t=""){return`--${Q(e,t)}`}function dt(e=""){let t=(e.match(/{/g)||[]).length,r=(e.match(/}/g)||[]).length;return(t+r)%2!==0}function Y(e,t="",r="",s=[],o){if(C(e)){let a=e.trim();if(dt(a))return;if(J(a,v)){let n=a.replaceAll(v,l=>{let c=l.replace(/{|}/g,"").split(".").filter(m=>!s.some(u=>J(m,u)));return`var(${ne(r,it(c.join("-")))}${at(o)?`, ${o}`:""})`});return J(n.replace(ct,"0"),lt)?`calc(${n})`:n}return a}else if(se(e))return e}function Mt(e={},t){if(C(t)){let r=t.trim();return J(r,v)?r.replaceAll(v,s=>nt(e,s.replace(/{|}/g,""))):r}else if(se(t))return t}function _e(e,t,r){C(t,!1)&&e.push(`${t}:${r};`)}function T(e,t){return e?`${e}{${t}}`:""}function oe(e,t){if(e.indexOf("dt(")===-1)return e;function r(n,l){let i=[],c=0,m="",u=null,p=0;for(;c<=n.length;){let h=n[c];if((h==='"'||h==="'"||h==="`")&&n[c-1]!=="\\"&&(u=u===h?null:h),!u&&(h==="("&&p++,h===")"&&p--,(h===","||c===n.length)&&p===0)){let y=m.trim();y.startsWith("dt(")?i.push(oe(y,l)):i.push(s(y)),m="",c++;continue}h!==void 0&&(m+=h),c++}return i}function s(n){let l=n[0];if((l==='"'||l==="'"||l==="`")&&n[n.length-1]===l)return n.slice(1,-1);let i=Number(n);return isNaN(i)?n:i}let o=[],a=[];for(let n=0;n<e.length;n++)if(e[n]==="d"&&e.slice(n,n+3)==="dt(")a.push(n),n+=2;else if(e[n]===")"&&a.length>0){let l=a.pop();a.length===0&&o.push([l,n])}if(!o.length)return e;for(let n=o.length-1;n>=0;n--){let[l,i]=o[n],c=e.slice(l+3,i),m=r(c,t),u=t(...m);e=e.slice(0,l)+u+e.slice(i+1)}return e}import{isNotEmpty as f,isObject as Pe,matchRegex as kt,minifyCSS as Ne,resolve as ee}from"@primeuix/utils/object";function be(e){return e.length===4?`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`:e}function $e(e){let t=parseInt(e.substring(1),16),r=t>>16&255,s=t>>8&255,o=t&255;return{r,g:s,b:o}}function ut(e,t,r){return`#${e.toString(16).padStart(2,"0")}${t.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}`}var A=(e,t,r)=>{e=be(e),t=be(t);let a=(r/100*2-1+1)/2,n=1-a,l=$e(e),i=$e(t),c=Math.round(l.r*a+i.r*n),m=Math.round(l.g*a+i.g*n),u=Math.round(l.b*a+i.b*n);return ut(c,m,u)};import{matchRegex as pt}from"@primeuix/utils";var ae=(e,t)=>A("#000000",e,t);var ie=(e,t)=>A("#ffffff",e,t);var Re=[50,100,200,300,400,500,600,700,800,900,950],gt=e=>{if(pt(e,v)){let t=e.replace(/{|}/g,"");return Re.reduce((r,s)=>(r[s]=`{${t}.${s}}`,r),{})}return typeof e=="string"?Re.reduce((t,r,s)=>(t[r]=s<=5?ie(e,(5-s)*19):ae(e,(s-5)*15),t),{}):e};import{resolve as ve}from"@primeuix/utils";import{isEmpty as ht,matchRegex as ft}from"@primeuix/utils/object";var tr=e=>{var a;let t=g.getTheme(),r=le(t,e,void 0,"variable"),s=(a=r==null?void 0:r.match(/--[\w-]+/g))==null?void 0:a[0],o=le(t,e,void 0,"value");return{name:s,variable:r,value:o}},P=(...e)=>le(g.getTheme(),...e),le=(e={},t,r,s)=>{if(t){let{variable:o,options:a}=g.defaults||{},{prefix:n,transform:l}=(e==null?void 0:e.options)||a||{},i=ft(t,v)?t:`{${t}}`;return s==="value"||ht(s)&&l==="strict"?g.getTokenValue(t):Y(i,void 0,n,[o.excludedKeyRegex],r)}return""};function ar(e,...t){if(e instanceof Array){let r=e.reduce((s,o,a)=>{var n;return s+o+((n=ve(t[a],{dt:P}))!=null?n:"")},"");return oe(r,P)}return ve(e,{dt:P})}import{mergeKeys as Te}from"@primeuix/utils/object";var O=(e={})=>{let{preset:t,options:r}=e;return{preset(s){return t=t?Te(t,s):s,this},options(s){return r=r?d(d({},r),s):s,this},primaryPalette(s){let{semantic:o}=t||{};return t=_(d({},t),{semantic:_(d({},o),{primary:s})}),this},surfacePalette(s){var i,c;let{semantic:o}=t||{},a=s&&Object.hasOwn(s,"light")?s.light:s,n=s&&Object.hasOwn(s,"dark")?s.dark:s,l={colorScheme:{light:d(d({},(i=o==null?void 0:o.colorScheme)==null?void 0:i.light),!!a&&{surface:a}),dark:d(d({},(c=o==null?void 0:o.colorScheme)==null?void 0:c.dark),!!n&&{surface:n})}};return t=_(d({},t),{semantic:d(d({},o),l)}),this},define({useDefaultPreset:s=!1,useDefaultOptions:o=!1}={}){return{preset:s?g.getPreset():t,options:o?g.getOptions():r}},update({mergePresets:s=!0,mergeOptions:o=!0}={}){let a={preset:s?Te(g.getPreset(),t):t,options:o?d(d({},g.getOptions()),r):r};return g.setTheme(a),a},use(s){let o=this.define(s);return g.setTheme(o),o}}};import{isObject as yt,matchRegex as St,toKebabCase as xt}from"@primeuix/utils/object";function ce(e,t={}){let r=g.defaults.variable,{prefix:s=r.prefix,selector:o=r.selector,excludedKeyRegex:a=r.excludedKeyRegex}=t,n=[],l=[],i=[{node:e,path:s}];for(;i.length;){let{node:m,path:u}=i.pop();for(let p in m){let h=m[p],y=ke(h),x=St(p,a)?Q(u):Q(u,xt(p));if(yt(y))i.push({node:y,path:x});else{let k=ne(x),w=Y(y,x,s,[a]);_e(l,k,w);let $=x;s&&$.startsWith(s+"-")&&($=$.slice(s.length+1)),n.push($.replace(/-/g,"."))}}}let c=l.join("");return{value:l,tokens:n,declarations:c,css:T(o,c)}}var S={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(e){return{type:"class",selector:e,matched:this.pattern.test(e.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(e){return{type:"attr",selector:`:root${e}`,matched:this.pattern.test(e.trim())}}},media:{pattern:/^@media (.*)$/,resolve(e){return{type:"media",selector:e,matched:this.pattern.test(e.trim())}}},system:{pattern:/^system$/,resolve(e){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(e.trim())}}},custom:{resolve(e){return{type:"custom",selector:e,matched:!0}}}},resolve(e){let t=Object.keys(this.rules).filter(r=>r!=="custom").map(r=>this.rules[r]);return[e].flat().map(r=>{var s;return(s=t.map(o=>o.resolve(r)).find(o=>o.matched))!=null?s:this.rules.custom.resolve(r)})}},_toVariables(e,t){return ce(e,{prefix:t==null?void 0:t.prefix})},getCommon({name:e="",theme:t={},params:r,set:s,defaults:o}){var w,$,j,V,D,z,E;let{preset:a,options:n}=t,l,i,c,m,u,p,h;if(f(a)&&n.transform!=="strict"){let{primitive:L,semantic:te,extend:re}=a,y=te||{},{colorScheme:K}=y,M=b(y,["colorScheme"]),N=re||{},{colorScheme:X}=N,B=b(N,["colorScheme"]),x=K||{},{dark:G}=x,I=b(x,["dark"]),k=X||{},{dark:U}=k,H=b(k,["dark"]),W=f(L)?this._toVariables({primitive:L},n):{},q=f(M)?this._toVariables({semantic:M},n):{},Z=f(I)?this._toVariables({light:I},n):{},de=f(G)?this._toVariables({dark:G},n):{},ue=f(B)?this._toVariables({semantic:B},n):{},pe=f(H)?this._toVariables({light:H},n):{},ge=f(U)?this._toVariables({dark:U},n):{},[Le,Me]=[(w=W.declarations)!=null?w:"",W.tokens],[Ae,je]=[($=q.declarations)!=null?$:"",q.tokens||[]],[De,ze]=[(j=Z.declarations)!=null?j:"",Z.tokens||[]],[Ke,Xe]=[(V=de.declarations)!=null?V:"",de.tokens||[]],[Be,Ge]=[(D=ue.declarations)!=null?D:"",ue.tokens||[]],[Ie,Ue]=[(z=pe.declarations)!=null?z:"",pe.tokens||[]],[He,We]=[(E=ge.declarations)!=null?E:"",ge.tokens||[]];l=this.transformCSS(e,Le,"light","variable",n,s,o),i=Me;let qe=this.transformCSS(e,`${Ae}${De}`,"light","variable",n,s,o),Ze=this.transformCSS(e,`${Ke}`,"dark","variable",n,s,o);c=`${qe}${Ze}`,m=[...new Set([...je,...ze,...Xe])];let Fe=this.transformCSS(e,`${Be}${Ie}color-scheme:light`,"light","variable",n,s,o),Je=this.transformCSS(e,`${He}color-scheme:dark`,"dark","variable",n,s,o);u=`${Fe}${Je}`,p=[...new Set([...Ge,...Ue,...We])],h=ee(a.css,{dt:P})}return{primitive:{css:l,tokens:i},semantic:{css:c,tokens:m},global:{css:u,tokens:p},style:h}},getPreset({name:e="",preset:t={},options:r,params:s,set:o,defaults:a,selector:n}){var y,N,x;let l,i,c;if(f(t)&&r.transform!=="strict"){let k=e.replace("-directive",""),m=t,{colorScheme:w,extend:$,css:j}=m,V=b(m,["colorScheme","extend","css"]),u=$||{},{colorScheme:D}=u,z=b(u,["colorScheme"]),p=w||{},{dark:E}=p,L=b(p,["dark"]),h=D||{},{dark:te}=h,re=b(h,["dark"]),K=f(V)?this._toVariables({[k]:d(d({},V),z)},r):{},M=f(L)?this._toVariables({[k]:d(d({},L),re)},r):{},X=f(E)?this._toVariables({[k]:d(d({},E),te)},r):{},[B,G]=[(y=K.declarations)!=null?y:"",K.tokens||[]],[I,U]=[(N=M.declarations)!=null?N:"",M.tokens||[]],[H,W]=[(x=X.declarations)!=null?x:"",X.tokens||[]],q=this.transformCSS(k,`${B}${I}`,"light","variable",r,o,a,n),Z=this.transformCSS(k,H,"dark","variable",r,o,a,n);l=`${q}${Z}`,i=[...new Set([...G,...U,...W])],c=ee(j,{dt:P})}return{css:l,tokens:i,style:c}},getPresetC({name:e="",theme:t={},params:r,set:s,defaults:o}){var i;let{preset:a,options:n}=t,l=(i=a==null?void 0:a.components)==null?void 0:i[e];return this.getPreset({name:e,preset:l,options:n,params:r,set:s,defaults:o})},getPresetD({name:e="",theme:t={},params:r,set:s,defaults:o}){var c,m;let a=e.replace("-directive",""),{preset:n,options:l}=t,i=((c=n==null?void 0:n.components)==null?void 0:c[a])||((m=n==null?void 0:n.directives)==null?void 0:m[a]);return this.getPreset({name:a,preset:i,options:l,params:r,set:s,defaults:o})},applyDarkColorScheme(e){return!(e.darkModeSelector==="none"||e.darkModeSelector===!1)},getColorSchemeOption(e,t){var r;return this.applyDarkColorScheme(e)?this.regex.resolve(e.darkModeSelector===!0?t.options.darkModeSelector:(r=e.darkModeSelector)!=null?r:t.options.darkModeSelector):[]},getLayerOrder(e,t={},r,s){let{cssLayer:o}=t;return o?`@layer ${ee(o.order||o.name||"primeui",r)}`:""},getCommonStyleSheet({name:e="",theme:t={},params:r,props:s={},set:o,defaults:a}){let n=this.getCommon({name:e,theme:t,params:r,set:o,defaults:a}),l=Object.entries(s).reduce((i,[c,m])=>i.push(`${c}="${m}"`)&&i,[]).join(" ");return Object.entries(n||{}).reduce((i,[c,m])=>{if(Pe(m)&&Object.hasOwn(m,"css")){let u=Ne(m.css),p=`${c}-variables`;i.push(`<style type="text/css" data-primevue-style-id="${p}" ${l}>${u}</style>`)}return i},[]).join("")},getStyleSheet({name:e="",theme:t={},params:r,props:s={},set:o,defaults:a}){var c;let n={name:e,theme:t,params:r,set:o,defaults:a},l=(c=e.includes("-directive")?this.getPresetD(n):this.getPresetC(n))==null?void 0:c.css,i=Object.entries(s).reduce((m,[u,p])=>m.push(`${u}="${p}"`)&&m,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${e}-variables" ${i}>${Ne(l)}</style>`:""},createTokens(e={},t,r="",s="",o={}){return{}},getTokenValue(e,t,r){var l;let o=(i=>i.split(".").filter(m=>!kt(m.toLowerCase(),r.variable.excludedKeyRegex)).join("."))(t),a=t.includes("colorScheme.light")?"light":t.includes("colorScheme.dark")?"dark":void 0,n=[(l=e[o])==null?void 0:l.computed(a)].flat().filter(i=>i);return n.length===1?n[0].value:n.reduce((i={},c)=>{let p=c,{colorScheme:m}=p,u=b(p,["colorScheme"]);return i[m]=u,i},void 0)},getSelectorRule(e,t,r,s){return r==="class"||r==="attr"?T(f(t)?`${e}${t},${e} ${t}`:e,s):T(e,T(t!=null?t:":root",s))},transformCSS(e,t,r,s,o={},a,n,l){if(f(t)){let{cssLayer:i}=o;if(s!=="style"){let c=this.getColorSchemeOption(o,n);t=r==="dark"?c.reduce((m,{type:u,selector:p})=>(f(p)&&(m+=p.includes("[CSS]")?p.replace("[CSS]",t):this.getSelectorRule(p,l,u,t)),m),""):T(l!=null?l:":root",t)}if(i){let c={name:"primeui",order:"primeui"};Pe(i)&&(c.name=ee(i.name,{name:e,type:s})),f(c.name)&&(t=T(`@layer ${c.name}`,t),a==null||a.layerNames(c.name))}return t}return""}};var g={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(e={}){let{theme:t}=e;t&&(this._theme=_(d({},t),{options:d(d({},this.defaults.options),t.options)}),this._tokens=S.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var e;return((e=this.theme)==null?void 0:e.preset)||{}},get options(){var e;return((e=this.theme)==null?void 0:e.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(e){this.update({theme:e}),R.emit("theme:change",e)},getPreset(){return this.preset},setPreset(e){this._theme=_(d({},this.theme),{preset:e}),this._tokens=S.createTokens(e,this.defaults),this.clearLoadedStyleNames(),R.emit("preset:change",e),R.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(e){this._theme=_(d({},this.theme),{options:e}),this.clearLoadedStyleNames(),R.emit("options:change",e),R.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(e){this._layerNames.add(e)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(e){return this._loadedStyleNames.has(e)},setLoadedStyleName(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(e){return S.getTokenValue(this.tokens,e,this.defaults)},getCommon(e="",t){return S.getCommon({name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(e="",t){let r={name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return S.getPresetC(r)},getDirective(e="",t){let r={name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return S.getPresetD(r)},getCustomPreset(e="",t,r,s){let o={name:e,preset:t,options:this.options,selector:r,params:s,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return S.getPreset(o)},getLayerOrderCSS(e=""){return S.getLayerOrder(e,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(e="",t,r="style",s){return S.transformCSS(e,t,s,r,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(e="",t,r={}){return S.getCommonStyleSheet({name:e,theme:this.theme,params:t,props:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(e,t,r={}){return S.getStyleSheet({name:e,theme:this.theme,params:t,props:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(e){this._loadingStyles.add(e)},onStyleUpdated(e){this._loadingStyles.add(e)},onStyleLoaded(e,{name:t}){this._loadingStyles.size&&(this._loadingStyles.delete(t),R.emit(`theme:${t}:load`,e),!this._loadingStyles.size&&R.emit("theme:load"))}};function we(...e){let t=_t(g.getPreset(),...e);return g.setPreset(t),t}function Ce(e){return O().primaryPalette(e).update().preset}function Oe(e){return O().surfacePalette(e).update().preset}import{deepMerge as bt}from"@primeuix/utils/object";function Ve(...e){let t=bt(...e);return g.setPreset(t),t}function Ee(e){return O(e).update({mergePresets:!1})}import{createStyleMarkup as $t,isNotEmpty as Rt}from"@primeuix/utils";var me=class{constructor({attrs:t}={}){this._styles=new Map,this._attrs=t||{}}get(t){return this._styles.get(t)}has(t){return this._styles.has(t)}delete(t){this._styles.delete(t)}clear(){this._styles.clear()}add(t,r){if(Rt(r)){let s={name:t,css:r,attrs:this._attrs,markup:$t(r,this._attrs)};this._styles.set(t,_(d({},s),{element:this.createStyleElement(s)}))}}update(){}getStyles(){return this._styles}getAllCSS(){return[...this._styles.values()].map(t=>t.css).filter(String)}getAllMarkup(){return[...this._styles.values()].map(t=>t.markup).filter(String)}getAllElements(){return[...this._styles.values()].map(t=>t.element)}createStyleElement(t={}){}},vt=me;export{tr as $dt,O as $t,lt as CALC_REGEX,v as EXPR_REGEX,vt as StyleSheet,g as Theme,R as ThemeService,S as ThemeUtils,ct as VAR_REGEX,ar as css,Se as definePreset,P as dt,le as dtwt,oe as evaluateDtExpressions,Mt as getComputedValue,T as getRule,ne as getVariableName,Y as getVariableValue,dt as hasOddBraces,Et as merge,A as mix,gt as palette,_e as setProperty,ae as shade,ie as tint,mt as toNormalizePrefix,Q as toNormalizeVariable,Vt as toTokenKey,Lt as toUnit,ke as toValue,ce as toVariables,we as updatePreset,Ce as updatePrimaryPalette,Oe as updateSurfacePalette,Ve as usePreset,Ee as useTheme};
//# sourceMappingURL=index.mjs.map